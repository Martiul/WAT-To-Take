<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="starterhacks.css">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1">
    <title> WAT To Take?</title>
</head>
    
<body>
    <br><br>
    <p id = "heading"> WAT To Take? </p>
    
    <div id = "boxes">
        <div id = "pre-req-box"> 
            <p style = "font-size: 24px"> Prerequisite Finder:</p>
            <form onsubmit="return pre()">
                
                Subject 
                <br> <div id = "example"> (e.g. ECON, PHYS): </div>
                <input id = "pre_name" type="text" name="Subject" value="">

                <br><br>Course Number <br> 
                <div id = "example"> (e.g. 101, 102R): </div>
                <input id = "pre_num" type="text" name="Course Number" value="">
                
                <br><br>  
                <div id = "sub"> <input type="submit" value="Submit"> </div> <br>
            </form> 
        </div>
        
        <br><br>

        <div id = "post-req-box"> 
            
            <p style = "font-size: 24px"> Postrequisite Finder:</p>
            <form onsubmit="return post()">
                
                Subject 
                <br> <div id = "example"> (e.g. ECON, PHYS): </div>  
                <input id = "post_name" type="text" name="Subject" value="">

                <br><br>Course Number <br> (e.g. 101, 102R):
                <input id = "post_num" type="text" name="Course Number" value="">
                
                <br><br>    
                <div id = "sub"> <input type="submit" value="Submit">  </div> <br>
            </form> 
        </div>     
    </div>
    
    
    
    <!-- Scripts -->
    
    <script>
        
        function pre(e) {
            var a = (document.getElementById("pre_name").value).toUpperCase();
            var b = document.getElementById("pre_num").value;
            
            $.get("pre-requisites.json",function(data) {
                console.log(data[a+b]);
                if (data[a+b] == undefined) {
                    document.write(a+b + " has no prerequisites");
                }
                else {
                    document.write("The following course(s) are pre-requisites for " + (a+b) + "<br><br>");
                    
                    for (i = 0; i < data[a+b].length; i++) {
                        document.write(data[a+b][i]);
                        document.write("<br>");
                    }                     
                }
            })
            return false;
        }

        
        function post(e) {
            var x = (document.getElementById("post_name").value).toUpperCase();
            var y = document.getElementById("post_num").value;

            $.get("post-requisites.json",function(data) {
                console.log(data[x+y]);
                if (data[x+y] == undefined) {
                    document.write(x+y + " is not a pre-requisite for any courses");
                }
                else {          
                    document.write("The following course(s) have " + (x+y) + " as a prerequisite:<br><br>");
                    
                    for (i = 0; i < data[x+y].length; i++) {
                        document.write(data[x+y][i]);
                        document.write("<br>");
                    }  
                }
            })
            return false;
        }

    </script>
    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js">
    
</script>

        
</body>
</html>
