<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="starterhacks.css">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1">
    <title> What Can I Do?</title>
</head>
    
<body>
    <br><br>
    <p id = "heading"> What Can I Do? </p>
    
    <div id = "boxes">
    <div id = "pre-req-box"> 
        <p style = "font-size: 24px"> Pre-requisite Finder:</p>
        <form onsubmit="return pre()">
          Faculty:<br>
          <input id = "pre_name" type="text" name="Subject" value="">
          <br>Course Number:<br>
          <input id = "pre_num" type="text" name="Course Number" value="">
          <br><br>  
          <input type="submit" value="Submit">
        </form> 
    </div>
    <br><br>

    <div id = "post-req-box"> 
        <p style = "font-size: 24px"> Post-requisite Finder:</p>
        <form onsubmit="return post()">
          Faculty:<br>
          <input id = "post_name" type="text" name="Subject" value="">
          <br>Course Number:<br>
          <input id = "post_num" type="text" name="Course Number" value="">
          <br><br>  
          <input type="submit" value="Submit">
        </form> 
    </div>
    </div>
    
    
    <script>

        function pre(e) {
            var a = (document.getElementById("pre_name").value).toUpperCase();
            var b = document.getElementById("pre_num").value;

                
            $.get("pre-requisites.json",function(data) {
                console.log(data[a+b]);
                if (data[a+b] == undefined) {
                    document.write(a+b + " is not a pre-requisite for any courses");
                }
                else {
                    document.write("The following courses are pre-requisites for " + (a+b) + "<br><br>");
                    
                    
                    for (i = 0; i < data[a+b].length; i++) {
                        document.write(data[a+b][i]);
                        document.write("<br>");
                    }                     
                }
            })
            return false;
        }

        
        function post(e) {
            var x = (document.getElementById("post_name").value).toUpperCase();
            var y = document.getElementById("post_num").value;


            $.get("post-requisites.json",function(data) {
                if (data[x+y] == undefined) {
                    document.write(x+y + " is not a pre-requisite for any courses");
                }
                else {          
                    document.write("The following courses have " + (x+y) + " as a prerequisite:<br><br>");
                    console.log(data[x+y]);

                    for (i = 0; i < data[x+y].length; i++) {
                        document.write(data[x+y][i]);
                        document.write("<br>");
                    }  
                }
            })
            return false;
        }

    </script>
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.js">
    
</script>

        
</body>
</html>
